/**
 * angular-libphonenumber
 * Paz MuÃ±oz libphonenumber validate mobile phone number
 * @version v1.1.5
 * @link https://github.com/mariapazz/angular-libphonenumber
 * @license Apache-2.0
 */
!function(e){e.module("cwill747.phonenumber",[]).directive("phoneNumber",["$log","$window",function(e,t){function n(e){return e?e.replace(/([^0-9|+])/g,""):e}function r(n,r){var o=n;try{o=t.phoneUtils.formatAsTyped(n,r)}catch(u){e.debug(u)}return o}return{restrict:"A",require:"?ngModel",scope:{countryCode:"=",nonFormatted:"=?",countryNumber:"="},controllerAs:"",controller:function(){this.countryCode=this.countryCode||"us"},link:function(o,u,i,c){function l(e){var t=n(e);o.nonFormatted=t;var u="";return u=t&&t.length>1?r(t,o.countryCode):t,u.trim()}function a(e){return c.$isEmpty(e)?e:r(n(e),o.countryCode)}function s(e){if(c.$isEmpty(e))return o.nonFormatted="",e;var t=l(e);if(t===e)return e;var r=d.selectionStart,u=d.selectionEnd+t.length-e.length;return e.length<t.length&&(r+=t.length-e.length),e.length>t.length+1&&(r-=t.length-e.length),c.$setViewValue(t),c.$render(),d.setSelectionRange(r,u),n(t)}function h(n){var r=!1,u=!1,i="";try{var l=o.countryNumber+n;r=t.phoneUtils.isValidNumberForRegion(l,o.countryCode),i=t.phoneUtils.getNumberType(l,o.countryCode),("MOBILE"===i||"FIXED_LINE_OR_MOBILE"===i)&&(u=!0)}catch(a){e.debug(a)}var s=c.$isEmpty(n)||r&&u;return c.$setValidity("phoneNumber",s),n}var d=u[0];o.$watch("countryCode",function(){c.$modelValue=c.$viewValue+" "}),o.$watch("countryNumber",function(){c.$modelValue=c.$viewValue+" "}),c.$formatters.push(a),c.$formatters.push(h),c.$parsers.push(s),c.$parsers.push(h)}}}])}(angular);
